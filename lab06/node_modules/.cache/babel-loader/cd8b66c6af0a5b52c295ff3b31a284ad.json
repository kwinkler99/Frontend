{"ast":null,"code":"var _jsxFileName = \"/home/kasia/inf/winkler-katarzyna/lab02/zad02/src/Store.js\";\nimport React, { Component } from 'react';\nimport Formularz from './Formularz.js';\n\nconst reduce = (state, action) => {\n  switch (action.type) {\n    case 'ADD':\n      return [...state, action.add_new];\n\n    case 'DELETE':\n      return state.filter(element => element.lp !== action.lp);\n\n    case 'EXPIRED':\n      return state.map(element => {\n        if (element.lp === action.lp) {\n          return { ...element,\n            active: 'Expired'\n          };\n        }\n\n        return element;\n      });\n\n    case 'DONE':\n      return state.map(element => {\n        if (element.lp === action.lp) {\n          return { ...element,\n            active: 'Done'\n          };\n        }\n\n        return element;\n      });\n\n    case 'FILTER':\n      if (action.box !== \"All\") {\n        return state.filter(function (item) {\n          return item.active === action.box;\n        });\n      } else {\n        return state;\n      }\n\n    case 'START':\n      return state;\n  }\n};\n\nclass Store extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      immutableState: reduce([], {\n        type: 'START'\n      }),\n      copyState: reduce([], {\n        type: 'START'\n      })\n    };\n    this.setImmutableState = this.setImmutableState.bind(this);\n    this.filter = this.filter.bind(this);\n  }\n\n  filter(event) {\n    console.log(this.state.immutableState);\n    console.log(this.state.copyState);\n    return this.state.copyState.filter(item => item.text.toLowerCase().startsWith(event.toLowerCase()));\n  }\n\n  setImmutableState(action) {\n    if (action.type !== 'FILTER') {\n      this.setState({\n        immutableState: reduce(this.state.immutableState, action),\n        copyState: reduce(this.state.copyState, action)\n      });\n    } else if (action.type === 'FILTER') {\n      this.setState({\n        immutableState: reduce(this.filter(action.text), action),\n        copyState: this.copyState\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Formularz, {\n      immutableState: this.state.immutableState,\n      reduce: this.setImmutableState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Store;","map":{"version":3,"sources":["/home/kasia/inf/winkler-katarzyna/lab02/zad02/src/Store.js"],"names":["React","Component","Formularz","reduce","state","action","type","add_new","filter","element","lp","map","active","box","item","Store","constructor","props","immutableState","copyState","setImmutableState","bind","event","console","log","text","toLowerCase","startsWith","setState","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Formularz from './Formularz.js'\n\n\nconst reduce = (state, action) => {\n    switch(action.type){\n        case 'ADD':\n            return [...state, action.add_new]\n        case 'DELETE':\n            return state.filter(element => element.lp !== action.lp)\n        case 'EXPIRED':\n            return state.map(element => {\n                if(element.lp === action.lp){\n                    return {\n                        ...element,\n                        active: 'Expired'\n                    }\n                }\n                return element\n                \n            })\n        case 'DONE':\n            return state.map(element => {\n                if(element.lp === action.lp){\n                    return {\n                        ...element,\n                        active: 'Done'\n                    }\n                }\n                return element\n\n            })\n        case 'FILTER':\n            if (action.box !== \"All\"){\n                return (state.filter(function(item) {\n                            return(item.active === action.box)\n                        }))\n            }\n            else{\n                return state\n            }\n        case 'START':\n            return state\n        \n    }\n}\n\n\n\nclass Store extends Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            immutableState: reduce([], {type: 'START'}),\n            copyState: reduce([], {type: 'START'})\n        }\n\n        this.setImmutableState = this.setImmutableState.bind(this)\n        this.filter = this.filter.bind(this)\n    }\n\n    filter(event) {\n        console.log(this.state.immutableState)\n        console.log(this.state.copyState)\n\n        return this.state.copyState.filter(item => item.text.toLowerCase().startsWith(event.toLowerCase()))\n    }\n\n    setImmutableState(action){\n        \n        if(action.type !== 'FILTER'){\n            this.setState({\n                immutableState: reduce(this.state.immutableState, action),\n                copyState: reduce(this.state.copyState, action)\n            })\n        }\n        else if(action.type === 'FILTER'){\n            this.setState({\n                immutableState: reduce(this.filter(action.text), action),\n                copyState: this.copyState\n            })\n            \n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                <Formularz immutableState={this.state.immutableState} reduce={this.setImmutableState}/>\n            </div>\n        )\n    }\n\n\n}\n\nexport default Store"]},"metadata":{},"sourceType":"module"}